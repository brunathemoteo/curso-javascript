<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promises</title>
</head>
<body>
    <p></p>
    <script>
        // Função sincrona
        function somarNumeros(){
            let resultado = 1 + 1

            if(resultado ==2){
                sucessCallback()
            } else {
                errorCallback()
            }
        }

        function sucessCallback(){
            console.log("Resultado igual a 2!")
        }

        function errorCallback(){
            console.log("Erro!!!")
        }

        somarNumeros();

    </script>

    <script>
        // Forma Assincrona
        let p = new Promise((resolve, reject) => {
            // parametro da promise > funcao anonima que recebe 2 parametros que sao callbacks
            // o resolve e o reject
            let soma = 1 + 3
            if(soma == 2){
                resolve('Soma igual a 2')
            } else {
                reject('Erro na soma!') // resultado que falha
            }
        }) 
        
        // chama o then quando o resolve é chamado e o catch quando o reject é chamado
        p.then((message) => {
            console.log('This is in the then '+ message)
        }).catch((err) => {
            console.log('This is the catch ' + err)
        })
        
    </script>


</body>
</html>